{"ast":null,"code":"var _jsxFileName = \"/home/marcinw/Studia/E-Business-2024/lab5/react/src/products/Products.jsx\",\n  _s = $RefreshSig$();\nimport './Products.css';\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useCart } from \"../cart/CartContext\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Products() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const {\n    addToCart\n  } = useCart();\n  useEffect(() => {\n    async function fetchProducts() {\n      try {\n        const res = await axios.get('http://localhost:8080/products');\n        setProducts(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    fetchProducts();\n  }, []);\n  if (document.URL.endsWith('/products') || document.URL.endsWith('/')) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: products.map((product, index) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [product.name, \", \", product.price, \" PLN \", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => addToCart(product),\n              children: \"Add to cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 89\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 37\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"cartButton\",\n        children: \"Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  } else {\n    return null;\n  }\n}\n_s(Products, \"Yp0Bz3RE0MIg2HmgiLiUUrpH5ZI=\", false, function () {\n  return [useCart];\n});\n_c = Products;\nexport default Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["React","useEffect","useState","axios","useCart","jsxDEV","_jsxDEV","Fragment","_Fragment","Products","_s","products","setProducts","addToCart","fetchProducts","res","get","data","err","console","log","document","URL","endsWith","children","fileName","_jsxFileName","lineNumber","columnNumber","map","product","index","name","price","onClick","id","_c","$RefreshReg$"],"sources":["/home/marcinw/Studia/E-Business-2024/lab5/react/src/products/Products.jsx"],"sourcesContent":["import './Products.css';\nimport React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport {useCart} from \"../cart/CartContext\";\n\nfunction Products() {\n\n    const [products, setProducts] = useState([]);\n    const { addToCart } = useCart();\n\n    useEffect( () => {\n        async function fetchProducts() {\n            try {\n                const res = await axios.get('http://localhost:8080/products');\n                setProducts(res.data);\n            } catch (err) {\n                console.log(err);\n            }\n        }\n        fetchProducts();\n    }, []);\n\n    if(document.URL.endsWith('/products') || document.URL.endsWith('/')) {\n        return (\n            <>\n                <h1>Products</h1>\n                <ul>\n                    {\n                        products.map(((product, index) => {\n                            return (<li key={index}>{product.name}, {product.price} PLN <button\n                                onClick={() => addToCart(product)}>Add to cart</button></li>);\n                        }))\n                    }\n                </ul>\n                <button id='cartButton'>Cart</button>\n            </>\n        );\n    }\n    else {\n        return null;\n    }\n}\n\nexport default Products;\n"],"mappings":";;AAAA,OAAO,gBAAgB;AACvB,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAAQC,OAAO,QAAO,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE5C,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAEhB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM;IAAEW;EAAU,CAAC,GAAGT,OAAO,CAAC,CAAC;EAE/BH,SAAS,CAAE,MAAM;IACb,eAAea,aAAaA,CAAA,EAAG;MAC3B,IAAI;QACA,MAAMC,GAAG,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAAC,gCAAgC,CAAC;QAC7DJ,WAAW,CAACG,GAAG,CAACE,IAAI,CAAC;MACzB,CAAC,CAAC,OAAOC,GAAG,EAAE;QACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MACpB;IACJ;IACAJ,aAAa,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAGO,QAAQ,CAACC,GAAG,CAACC,QAAQ,CAAC,WAAW,CAAC,IAAIF,QAAQ,CAACC,GAAG,CAACC,QAAQ,CAAC,GAAG,CAAC,EAAE;IACjE,oBACIjB,OAAA,CAAAE,SAAA;MAAAgB,QAAA,gBACIlB,OAAA;QAAAkB,QAAA,EAAI;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACjBtB,OAAA;QAAAkB,QAAA,EAEQb,QAAQ,CAACkB,GAAG,CAAE,CAACC,OAAO,EAAEC,KAAK,KAAK;UAC9B,oBAAQzB,OAAA;YAAAkB,QAAA,GAAiBM,OAAO,CAACE,IAAI,EAAC,IAAE,EAACF,OAAO,CAACG,KAAK,EAAC,OAAK,eAAA3B,OAAA;cACxD4B,OAAO,EAAEA,CAAA,KAAMrB,SAAS,CAACiB,OAAO,CAAE;cAAAN,QAAA,EAAC;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA,GAD1CG,KAAK;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACyC,CAAC;QACpE,CAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEP,CAAC,eACLtB,OAAA;QAAQ6B,EAAE,EAAC,YAAY;QAAAX,QAAA,EAAC;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,eACvC,CAAC;EAEX,CAAC,MACI;IACD,OAAO,IAAI;EACf;AACJ;AAAClB,EAAA,CApCQD,QAAQ;EAAA,QAGSL,OAAO;AAAA;AAAAgC,EAAA,GAHxB3B,QAAQ;AAsCjB,eAAeA,QAAQ;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}